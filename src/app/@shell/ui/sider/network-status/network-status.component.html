<wen-icon-network-status class="cursor-pointer" (click)="isVisible = true"></wen-icon-network-status>

<nz-drawer
    [nzBodyStyle]="{ overflow: 'auto', padding: '0px' }"
    [nzWidth]="(deviceService.isDesktop$ | async) ? '280px' : '100%'"
    nzPlacement="left"
    [nzClosable]="false"
    [nzVisible]="isVisible"
    >
    <div *nzDrawerContent class="relative h-full">
        <button class="absolute z-10 top-5 right-4" (click)="isVisible = false">
            <wen-icon-close></wen-icon-close>
        </button>

        <div class="text-lg font-bold pt-6 ml-8" i18n>
            Network status
        </div>

        <div class="mt-5 w-full h-px bg-foregrounds-separator dark:bg-foregrounds-separator-dark"></div>

        <div class="mt-6 mr-5 ml-8">
            <div class="flex items-center">
                <div class="text-lg font-semibold">IOTA</div>
                <div class="w-px h-5 bg-[#66DDCA] ml-2 mr-1.5"></div>
                <div class="font-medium -translate-y-1 text-xxs text-foregrounds-secondary dark:text-foregrounds-secondary-dark"
                    i18n>Mainnet</div>
            </div>

            <div class="flex items-center justify-between text-xs font-medium mt-4">
                <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                    Network status
                </div>
                <div class="flex items-center">
                    <div class="text-[#28B16F]" i18n>Operational</div>
                    <div class="h-2 w-2 rounded-full bg-[#28B16F] ml-1.5"></div>
                </div>
            </div>

            <div class="flex items-center justify-between text-xs font-medium mt-1">
                <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                    Last milestone
                </div>
                <div>
                    {{ (lastIotaMilestone$ | async)?.['milestone'] }}
                </div>
            </div>
        </div>

        <ng-container *ngIf="!environment.production">
            <div class="mt-6 w-full h-px bg-foregrounds-separator dark:bg-foregrounds-separator-dark"></div>
    
            <div class="mt-6 mr-5 ml-8">
                <div class="flex items-center">
                    <div class="text-lg font-semibold">IOTA</div>
                    <div class="w-px h-5 bg-[#66DDCA] ml-2 mr-1.5"></div>
                    <div class="font-medium -translate-y-1 text-xxs text-foregrounds-secondary dark:text-foregrounds-secondary-dark"
                        i18n>Test</div>
                </div>
    
                <div class="flex items-center justify-between text-xs font-medium mt-4">
                    <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                        Network status
                    </div>
                    <div class="flex items-center">
                        <div class="text-[#28B16F]" i18n>Operational</div>
                        <div class="h-2 w-2 rounded-full bg-[#28B16F] ml-1.5"></div>
                    </div>
                </div>
    
                <div class="flex items-center justify-between text-xs font-medium mt-1">
                    <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                        Last milestone
                    </div>
                    <div>
                        {{ (lastAtoiMilestone$ | async)?.['milestone'] }}
                    </div>
                </div>
            </div>
        </ng-container>

        <!-- Will be added after milestone_smr is implemented. -->
        <!-- <div class="mt-6 w-full h-px bg-foregrounds-separator dark:bg-foregrounds-separator-dark"></div>

        <div class="mt-6 mr-5 ml-8">
            <div class="flex items-center">
                <wen-icon-shimmer [size]="32"></wen-icon-shimmer>
                <div class="text-lg font-semibold ml-3" i18n>Shimmer</div>
            </div>

            <div class="flex items-center justify-between text-xs font-medium mt-4">
                <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                    Network status
                </div>
                <div class="flex items-center">
                    <div class="text-[#28B16F]" i18n>Operational</div>
                    <div class="h-2 w-2 rounded-full bg-[#28B16F] ml-1.5"></div>
                </div>
            </div>

            <div class="flex items-center justify-between text-xs font-medium mt-1">
                <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                    Last milestone
                </div>
                <div>
                    {{ (lastSmrMilestone$ | async)?.cmi }}
                </div>
            </div>
        </div> -->

        <ng-container *ngIf="!environment.production">
            <div class="mt-6 w-full h-px bg-foregrounds-separator dark:bg-foregrounds-separator-dark"></div>

            <div class="mt-6 mr-5 ml-8">
                <div class="flex items-center">
                    <wen-icon-shimmer [size]="32"></wen-icon-shimmer>
                    <div class="text-lg font-semibold ml-3">Shimmer Test</div>
                </div>

                <div class="flex items-center justify-between text-xs font-medium mt-4">
                    <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                        Network status
                    </div>
                    <div class="flex items-center">
                        <div class="text-[#28B16F]" i18n>Operational</div>
                        <div class="h-2 w-2 rounded-full bg-[#28B16F] ml-1.5"></div>
                    </div>
                </div>

                <div class="flex items-center justify-between text-xs font-medium mt-1">
                    <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
                        Last milestone
                    </div>
                    <div>
                        {{ (lastRmsMilestone$ | async)?.['milestone'] }}
                    </div>
                </div>
            </div>
        </ng-container>

        <div class="mt-6 w-full h-px bg-foregrounds-separator dark:bg-foregrounds-separator-dark"></div>

        <div class="mt-6 mr-5 ml-8">
            <div class="flex items-center">
                <wen-icon-assembly [size]="32"></wen-icon-assembly>
                <div class="text-lg font-semibold ml-3">assembly</div>
            </div>

            <div class="mt-4 rounded-2xl bg-backgrounds-secondary dark:bg-backgrounds-secondary-dark
                flex items-center justify-center p-8 font-medium text-xs text-center" i18n>
                    Assembly Comming SOON
            </div>
        </div>

        <div class="mt-6 w-full h-px bg-foregrounds-separator dark:bg-foregrounds-separator-dark"></div>

        <div class="mt-6 mr-5 ml-8">
            <div class="flex items-center">
                <wen-icon-shimmer [size]="32"></wen-icon-shimmer>
                <div class="ml-3">
                    <div class="text-lg font-semibold leading-3 mt-2">Shimmer</div>
                    <div class="text-sm font-medium text-foregrounds-secondary dark:text-foregrounds-secondary-dark">EVM</div>
                </div>
            </div>

            <div class="mt-4 rounded-2xl bg-backgrounds-secondary dark:bg-backgrounds-secondary-dark
                flex items-center justify-center p-8 font-medium text-xs text-center" i18n>
                    Shimmer EVM Comming SOON
            </div>
        </div>
    </div>
</nz-drawer>