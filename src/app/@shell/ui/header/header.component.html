<!-- TODO find better hack for preventing header from jumping because of the scrollbar -->
<header class="absolute z-30 flex items-center justify-end py-5 pr-0 space-x-8 w-header lg:pr-8 xl:pr-16"
  style="left: calc(100vw - 500px)">
  <button nz-button *ngIf="(isLoggedIn$ | async) === false" class="flex items-center gap-2 wen-header-button"
    [routerLink]="['discover']" type="button">
    <wen-icon-rocket></wen-icon-rocket>Discover
  </button>

  <button nz-button nz-dropdown nzTrigger="click" [nzDropdownMenu]="createMenu" *ngIf="(isLoggedIn$ | async) && !isMemberProfile"
    nzType="primary" type="button" class="flex items-center gap-2 pr-2">
    Create new <wen-icon-angle-down></wen-icon-angle-down>
  </button>

  <nz-dropdown-menu #createMenu="nzDropdownMenu">
    <ul nz-menu>
      <li nz-menu-item [routerLink]="urlToNewSpace">
        <wen-icon-space class="mr-4"></wen-icon-space>Space
      </li>
      <li nz-menu-item [routerLink]="urlToNewProposal" *ngIf="enableCreateAwardProposal">
        <wen-icon-check-circle class="mr-4"></wen-icon-check-circle>Proposal
      </li>
      <li nz-menu-item [routerLink]="urlToNewAward" *ngIf="enableCreateAwardProposal">
        <wen-icon-award class="mr-4"></wen-icon-award>Award
      </li>
    </ul>
  </nz-dropdown-menu>

  <wen-sign-in *ngIf="(isLoggedIn$ | async) === false"></wen-sign-in>
  <button nz-button nz-dropdown nzType="default" nzShape="circle" nz-tooltip nzTooltipTitle="Coming SOON"
    nzTooltipPlacement="bottom" *ngIf="isLoggedIn$ | async" [nzDropdownMenu]="notificationMenu"
    [ngClass]="isMemberProfile ? 'bg-bg-background hover:bg-bg-background' : ''"
    class="inline-flex items-center justify-center border-0 wen-header-button">
    <wen-icon-bell class="text-app-gray-text"></wen-icon-bell>
  </button>
  <nz-dropdown-menu #notificationMenu="nzDropdownMenu"> </nz-dropdown-menu>

  <button nz-button nz-dropdown nzShape="round" nzTrigger="click" nzSize="default" [nzDropdownMenu]="userMenu"
    [ngClass]="isMemberProfile ? 'bg-bg-background hover:bg-bg-background' : ''"
    class="inline-flex items-center h-16 gap-3 pl-2 font-bold border-0 wen-header-button" *ngIf="isLoggedIn$ | async">
    <nz-avatar nzIcon="user" nzSrc="/assets/mocks/default_avatar.jpg" [nzSize]="48" class="mr-1"></nz-avatar>
    {{
    '@ ' + ((member$ | async)?.name || (member$ | async)?.uid || '')
    | truncate: [12]
    }}
    <wen-icon-angle-down></wen-icon-angle-down>
  </button>

  <nz-dropdown-menu #userMenu="nzDropdownMenu">
    <ul nz-menu>
      <li nz-menu-item (click)="goToMyProfile()">
        <wen-icon-space class="mr-4"></wen-icon-space>My Profile
      </li>
      <li nz-menu-item [nzDanger]="true">
        <wen-sign-out></wen-sign-out>
      </li>
    </ul>
  </nz-dropdown-menu>
</header>

<wen-sign-in-modal></wen-sign-in-modal>
