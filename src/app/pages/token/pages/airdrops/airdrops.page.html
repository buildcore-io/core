<nz-card *ngIf="data.length === 0">
    <div class="w-full flex items-center justify-between font-medium">
        <div class="font-bold text-foregrouds-primary dark:text-foregrounds-primary-dark text-lg" i18n>Create airdrop</div>
        <a class="underline text-buttons-primary-enabled dark:text-buttons-primary-enabled-dark" (click)="generateTemplate()" i18n>Download CSV template</a>
    </div>

    <div class="mt-6 font-medium text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
        You can create a governance token airdrops for your DAO members. You can upload CSV with users that are legit for the token airdrops and they will be properly rewarded.
    </div>
    
    <div class="mt-3 font-medium text-foregrounds-secondary dark:text-foregrounds-secondary-dark" i18n>
        If you donâ€™t know how to prepare CSV file, you can download ours template made for you.
    </div>

    <div class="mt-10">
        <nz-form-item>
            <nz-form-control class="w-full">
                <nz-upload
                    class="wen-banner"
                    nzName="banner"
                    nzType="drag"
                    nzListType="picture-card"
                    [nzDirectory]="false"
                    [nzBeforeUpload]="beforeCSVUpload.bind(this)"
                    nzFileType="text/csv,application/vnd.ms-excel"
                >
                    <ng-container>
                        <i class="upload-icon" nz-icon nzType="upload"></i>
                    </ng-container>
                </nz-upload>
            </nz-form-control>
        </nz-form-item>
    </div>
</nz-card>

<nz-card *ngIf="data.length > 0">
    <div class="w-full flex items-center justify-between font-medium">
        <div class="font-bold text-foregrouds-primary dark:text-foregrounds-primary-dark text-lg" i18n>{{ fileName }}</div>
        <wen-icon-trash
          class="cursor-pointer text-icons-destructive dark:text-icons-destructive-dark"
          (click)="data = []"
        ></wen-icon-trash>
    </div>

    <nz-table class="block px-5 mt-5"
        [nzData]="data" [nzShowPagination]="true" [nzPageSize]="12">
        <thead>
            <tr>
                <th *ngFor="let c of tableConfig; let last = last" [ngStyle]="{ 'text-align': last ? 'right' : 'left' }" i18n>{{ c.label }}</th>
            </tr>
        </thead>
        <tbody>
            <!-- Had to use inline style to overwrite ng-zorro -->
            <tr *ngFor="let item of data">
                <ng-container *ngFor="let r of (item | keyvalue); let last = last">
                    <td *ngIf="!last" class="font-medium text-foregrounds-primary dark:text-foregrounds-primary text-sm">{{ r.value }}</td>
                </ng-container>
                <td style="text-align: right">
                    <a [href]="item?.link" class="font-medium underline text-buttons-primary-enabled dark:text-buttons-primary-enabled-dark" i18n>link</a>
                </td>
            </tr>
        </tbody>
    </nz-table>
</nz-card>

<button nz-button nzType="primary" nzSize="large" class="w-full mt-12" *ngIf="data.length > 0" i18n>
    Submit airdrop
</button>