<div class="flex items-center pt-10 mt-8 lg:pt-0">
    <a nz-button nzType="default" nzBlock nzSize="default" target="_new"
        *ngIf="(data.collection$ | async)?.url" [href]="(data.collection$ | async)?.url"
        class="flex items-center justify-center flex-grow w-1/2 mr-2 text-black lg:mr-4 wen-link-padding"
        [ngClass]="{ 'border-blue-light1': deviceService.isMobile$ | async }">
            <wen-icon-github></wen-icon-github>
            <div class="ml-2.5 text-xs font-medium" i18n>Visit website</div>
    </a>
    <a nz-button nzType="default" nzBlock nzSize="default" target="_new"
        [href]="getShareUrl(data.collection$ | async)"
        class="flex items-center justify-center flex-grow w-1/2 text-black wen-link-padding"
        [ngClass]="{ 'border-blue-light1': deviceService.isMobile$ | async }">
            <wen-icon-share></wen-icon-share>
            <div class="ml-2.5 text-xs font-medium" i18n>Share</div>
    </a>
</div>

<nz-card class="mt-4" i18n-nzTitle nzTitle="Who can buy?"
  *ngIf="(data.collection$ | async)?.access === access.MEMBERS_WITH_NFT_FROM_COLLECTION">
  <div class="flex">
    <wen-icon-members-with-nft-from-collection [size]="20" class="text-app-gray-400"></wen-icon-members-with-nft-from-collection>
    <div class="ml-2 text-sm font-medium" i18n>
      Must hold at least one NFT from each
      selected collection
    </div>
  </div>

  <div class="flex flex-wrap mt-3">
    <div class="flex items-center cursor-pointer justify-between p-1.5 mt-2 mr-2 bg-brown-lighter rounded-lg"
      [routerLink]="['/', 'collection', collection?.uid]"
      *ngFor="let collection of (data.accessCollections$ | async)">
      <nz-avatar
        [nzSrc]="previewImageService.getAvatarSize(collection?.bannerUrl)"
        [nzSize]="24"
        class="mr-2.5 border-2 border-app-gray-100 min-w-6 min-h-6"
        nzShape="circle"
      >
      </nz-avatar>
      <div class="text-sm font-medium">{{ collection?.name }}</div>
    </div>
  </div>
</nz-card>

<nz-card class="mt-4">
  <div class="flex items-center">
    <wen-icon-tag class="text-app-gray-400"></wen-icon-tag>
    <div class="ml-2.5 font-medium">{{ getCategory((data.collection$ | async)?.category) }}</div>
  </div>
</nz-card>

<nz-card i18n-nzTitle nzTitle="The badges you need" *ngIf="(data.accessBadges$ | async)?.length" class="mt-4 space-x-2">
  <nz-avatar
    *ngFor="let award of (data.accessBadges$ | async); trackBy: trackByUid"
    [nzSrc]="award.badge.image| ipfsBadge:filesizes.small"
    [nzSize]="64"
    class="bg-white border-gray-400"
    nzShape="circle"
  >
  </nz-avatar>
</nz-card>

<nz-card i18n-nzTitle nzTitle="Resources" class="mt-8" *ngIf="(data.collection$ | async)?.url || (data.collection$ | async)?.twitter || (data.collection$ | async)?.discord">
    <div class="space-y-5">
        <a *ngIf="(data.collection$ | async)?.url" target="_new"
            [href]="(data.collection$ | async)?.url"
            class="flex items-center">
            <wen-icon-link class="mr-3 text-app-gray-400"></wen-icon-link>
            <div class="text-xs font-medium">{{ (data.collection$ | async)?.url }}</div>
        </a>

        <a *ngIf="(data.collection$ | async)?.twitter" target="_new"
            [href]="'https://twitter.com/' + (data.collection$ | async)?.twitter"
            class="flex items-center">
            <wen-icon-twitter class="mr-3 text-app-gray-400"></wen-icon-twitter>
            <div class="text-xs font-medium">{{ (data.collection$ | async)?.twitter }}</div>
        </a>

        <a *ngIf="(data.collection$ | async)?.discord" target="_new"
            [href]="'https://discord.gg/' + (data.collection$ | async)?.discord"
            class="flex items-center">
            <wen-icon-discord class="mr-3 text-app-gray-400"></wen-icon-discord>
            <div class="text-xs font-medium">{{ (data.collection$ | async)?.discord }}</div>
        </a>
    </div>
</nz-card>

<nz-card i18n-nzTitle nzTitle="Additional Details" class="mt-8" *ngIf="(data.collection$ | async)?.access !== access.OPEN || (data.collection$ | async)?.discounts?.length">
    <div class="space-y-5">
        <div *ngIf="(data.collection$ | async)?.access !== access.OPEN">
          <nz-tag class="px-2 py-1 text-xs border-none rounded-md">
            {{ getAccessLabel((data.collection$ | async)?.access) }}
          </nz-tag>
        </div>
        <div *ngIf="(data.collection$ | async)?.onePerMemberOnly === true">
          <nz-tag class="px-2 py-1 text-xs border-none rounded-md" i18n>
            One NFT per member
          </nz-tag>
        </div>
        <div *ngFor="let item of sortedDiscounts((data.collection$ | async)?.discounts)"
            class="flex items-center">
            <wen-icon-percentage class="mr-3 text-app-gray-400"></wen-icon-percentage>
            <div class="text-xs font-medium">{{ (item.amount * 100) }}% <span i18n>Discount for members with XP</span> > {{ item.xp }}</div>
        </div>
    </div>
</nz-card>
