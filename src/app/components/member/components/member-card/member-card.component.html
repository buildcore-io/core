<article class="flex flex-row p-4 bg-white w-75 h-75 rounded-2xl wen-card"
  [ngClass]="fullWidth ? 'w-auto h-auto justify-between' : 'w-75 h-75'" *ngIf="member">
  <div [ngClass]="fullWidth ? 'w-4/5' : 'w-full'">
    <div class="relative flex flex-col w-full h-40" [ngClass]="fullWidth ? 'h-auto' : 'h-40'"
      [routerLink]="['/member', member.uid]">
      <div class="flex items-center w-full space-x-4">
        <nz-avatar class="border-2 border-app-gray-100 bg-bg-background min-w-10" style="max-width: 48px; min-width: 48px;" [nzSize]="48"
          [nzSrc]="member?.currentProfileImage | ipfsAvatar:filesizes.small"></nz-avatar>
        <h5 nz-typography class="m-auto truncate">{{ member.name ? '@' + member.name : member.uid }}</h5>
        <nz-tag *ngIf="role" class="wen-status-tag"
          [ngClass]="role === 'Member' ? 'bg-tag-green border-tag-green' : 'bg-tag-black border-tag-black text-white'">
          {{ role }}</nz-tag>
      </div>
      <span nz-typography class="mt-3 truncate text-app-gray-400" [ngClass]="fullWidth ? 'text-base' : 'text-xs'">
        joined {{ member.createdOn?.toDate() | date:"short" }}
      </span>
      <p class="mt-2 mb-3 leading-5" [ngClass]="fullWidth ? 'text-base' : 'text-xs'">{{ (about !== undefined ? about :
        member.about)| truncate:[90] }}</p>
    </div>

    <div class="relative flex" [ngClass]="fullWidth ? '' : 'flex-col w-full h-28'">
      <div class="inline-flex items-center space-x-3">
        <nz-tag class="wen-xp-tag">{{ member.totalReputation ? member.totalReputation : 0 }} XP</nz-tag>
        <nz-tag class="flex items-center space-x-3 bg-transparent border-transparent wen-status-tag">
          <wen-icon-award class="w-4 h-4 text-app-gray-400"></wen-icon-award>
          <span>{{ member.awardsCompleted ? member.awardsCompleted : 0 }} awards
          </span>
        </nz-tag>
      </div>

      <div i18n class="inline-flex" [ngClass]="fullWidth ? 'ml-4' : 'mt-4'">
        <nz-avatar *ngFor="let badge of (badges$ | async) | slice:0:6;"
          [nzSrc]="badge.payload.image | ipfsBadge:filesizes.small"
          class="bg-white border-gray-400" nzShape="circle"></nz-avatar>
      </div>
    </div>
  </div>
  <div class="w-1/5 pl-4 pr-2 text-right" *ngIf="fullWidth">
    <ng-content></ng-content>
  </div>
</article>
