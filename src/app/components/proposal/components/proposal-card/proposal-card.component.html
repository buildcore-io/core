<article class="p-4 bg-white w-75 h-75 rounded-2xl" [ngClass]="fullWidth ? 'w-auto h-auto' : 'w-75 h-75'"
  *ngIf="proposal">
  <div class="relative flex flex-col w-full" [ngClass]="fullWidth ? 'h-auto' : 'h-28'">
    <div class="flex items-center w-full space-x-4">
      <nz-avatar [nzSrc]="getAvatarSize((space$ | async)?.avatarUrl)" class="border-gray-400 bg-bg-background min-w-10"
        nzShape="circle">
      </nz-avatar>
      <p nz-typography class="truncate">{{ (space$ | async)?.name || (space$ | async)?.uid}}</p>
    </div>
    <h3 class="mt-2 mb-3 text-lg font-bold truncate">{{ proposal.name || proposal.uid }}</h3>
  </div>

  <div class="relative flex flex-col w-full h-40">
    <div>
      <ng-container *ngFor="let q of proposal.questions">
        <ng-container *ngFor="let a of q.answers">
          <p>{{a.text}}</p>
          <nz-progress nz-tooltip [nzShowInfo]="true" nzStatus="active" [nzPercent]="getProgress(a)"
            nzStrokeLinecap="square"></nz-progress>
        </ng-container>
      </ng-container>
    </div>

    <div i18n class="inline-flex mt-4">
      <wen-proposal-status [proposal]="proposal"></wen-proposal-status>
      <nz-tag class="flex items-center wen-status-tag bg-tag-default border-tag-default"
        *ngIf="proposal?.settings?.endDate">
        <i nz-icon class="pr-2" nzType="clock-circle"></i>
        <span>{{proposal?.settings?.endDate.toDate() | date:"short"}}</span>
      </nz-tag>
    </div>
  </div>
</article>
