<wen-modal-drawer
    i18n-title
    title="Manage addresses"
    [isOpen]="isOpen"
    [content]="content"
    [primaryColor]="false"
    (wenOnClose)="close()">
</wen-modal-drawer>

<ng-template #content>
    <nz-table #addressesTable class="block w-full h-full mt-4"
        [nzData]="networks | keyvalue" [nzShowPagination]="false">
        <thead>
            <tr>
                <th class="text-xs font-medium" i18n>Network</th>
                <th class="text-xs font-medium" i18n>Address</th>
                <th class="text-xs font-medium right" i18n>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of addressesTable.data">
                <td class="text-sm font-medium flex items-center space-x-2">
                    <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark">
                        <wen-icon-shimmer *ngIf="item.value === networks.SMR || item.value === networks.RMS" [size]="20"></wen-icon-shimmer>
                        <wen-icon-iota-no-border *ngIf="item.value === networks.IOTA || item.value === networks.ATOI" [size]="20"></wen-icon-iota-no-border>
                    </div>
                    <div>{{ item.key }}</div>
                    <div class="text-foregrounds-secondary dark:text-foregrounds-secondary-dark">{{ networkDetails[item.value].label }}</div>
                </td>
                <td class="text-sm font-medium">
                    <span *ngIf="address(item.value); else notVerified" class="text-alerts-success dark:text-alerts-success-dark">
                        {{ address(item.value)?.substring(0, (deviceService.isDesktop$ | async) ? 24 : 6) }}...{{ address(item.value)?.substring((address(item.value)?.length || 0) - ((deviceService.isDesktop$ | async) ? 8 : 3)) }}</span>
                    <ng-template #notVerified>
                        <span class="text-alerts-error dark:text-alerts-error-dark" i18n>
                            Not yet verified</span>
                    </ng-template>
                </td>
                <td class="right">
                    <a class="text-sm font-medium text-buttons-primary-enabled dark:text-buttons-primary-enabled-dark"
                        (click)="wenOnChange.emit(item.value)">
                        <ng-container *ngIf="address(item.value); else notVerifiedBtn" i18n>
                            Change
                        </ng-container>
                        <ng-template #notVerifiedBtn i18n>
                            Verify
                        </ng-template>
                    </a>
                </td>
            </tr>
        </tbody>
    </nz-table>
</ng-template>
