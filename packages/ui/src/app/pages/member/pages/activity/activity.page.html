<div class="space-y-12">
  <div class="space-y-4">
    <div class="flex space-x-4">
      <nz-card class="grow" i18n-nzTitle nzTitle="My Staking">
        <div class="absolute top-6 right-6">
          <a
            nz-button
            nzType="default"
            [routerLink]="['/space', getSoonSpaceId(), 'staking']"
            nzSize="small"
          >
            <div class="text-xs mr-0.5" i18n>View All</div>
            <wen-icon-angle-right [size]="18"></wen-icon-angle-right>
          </a>
        </div>

        <div>
          <p>You have earned xx</p>
          <p>
            <span>Token Icon</span> Staked {{ unitsService.format( getTotalStaked() | async,
            undefined, false, false ) }} SOON
          </p>
          <p>VIP Level 0</p>
          <p>VIP until 11/2/22</p>

          <button nz-button nzType="primary" class="self-center mx-auto mt-6 wen-btn-max" nzBlock>
            Stake more
          </button>

          <button nz-button nzType="primary" class="self-center mx-auto mt-6 wen-btn-max" nzBlock>
            Buy more
          </button>
        </div>
      </nz-card>

      <nz-card class="grow" i18n-nzTitle nzTitle="My Favourites">
        <div class="absolute top-6 right-6">
          <a
            nz-button
            nzType="default"
            [routerLink]="['/token', null, 'favourites']"
            nzSize="small"
          >
            <div class="text-xs mr-0.5" i18n>View All</div>
            <wen-icon-angle-right [size]="18"></wen-icon-angle-right>
          </a>
        </div>

        show wen-favourites

        <button nz-button nzType="primary" class="self-center mx-auto mt-6 wen-btn-max" nzBlock>
          Manage Favourites
        </button>
      </nz-card>
    </div>

    <nz-card i18n-nzTitle nzTitle="Reputation">
      <nz-table
        #reputationTable
        class="block w-full max-h-[400px] overflow-y-auto"
        [nzWidthConfig]="['55%', '15%', '30%']"
        [nzData]="(data.spaces$ | async) || []"
        [nzShowPagination]="false"
        nzSize="small"
      >
        <thead>
          <tr>
            <th
              class="text-xs font-medium text-foregrounds-secondary dark:text-foregrounds-secondary-dark padding-left-0"
              i18n
            >
              Spaces
            </th>
            <th
              class="text-xs font-medium text-foregrounds-secondary dark:text-foregrounds-secondary-dark padding-left-0 right"
              i18n
            >
              Awards
            </th>
            <th
              class="text-xs font-medium text-foregrounds-secondary dark:text-foregrounds-secondary-dark padding-right-0 right"
              i18n
            >
              Total XP
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let space of reputationTable.data">
            <td class="padding-left-0">
              <a class="flex items-center" [routerLink]="['/space', space.uid]">
                <nz-avatar
                  *ngIf="space.avatarUrl"
                  [nzSrc]="previewImageService.getAvatarSize(space.avatarUrl)"
                  [nzSize]="24"
                  class="mr-2 border-2 border-foregrounds-tertiary dark:border-foregrounds-tertiary-dark min-w-6"
                  nzShape="circle"
                >
                </nz-avatar>
                <div class="text-sm font-bold">{{ space.name }}</div>
              </a>
            </td>
            <td class="text-sm font-medium right">
              {{ (data.member$ | async)?.spaces?.[space.uid]?.awardsCompleted }}
            </td>
            <td class="right padding-right-0">
              {{ (data.member$ | async)?.spaces?.[space.uid]?.totalReputation }}
            </td>
          </tr>
        </tbody>
      </nz-table>

      <div
        *ngIf="(reputationTable.data).length > 8"
        class="h-px w-[calc(100%_+_3rem)] bg-foregrounds-separator dark:bg-foregrounds-separator-dark mt-6 -ml-6"
      ></div>

      <div class="w-full flex justify-between mt-3.5">
        <div class="mr-4 text-lg font-bold">Total reputation</div>

        <nz-table
          *ngIf="(data.spaces$ | async)"
          #reputationTable
          class="block w-[45%] max-h-[400px] overflow-y-auto"
          [nzWidthConfig]="['33%', '66%']"
          [nzData]="(data.spaces$ | async) || []"
          [nzShowPagination]="false"
          nzSize="small"
        >
          <tbody>
            <tr>
              <td class="text-sm font-medium right" style="border-bottom: 0">
                {{ (data.member$ | async)?.awardsCompleted }}
              </td>
              <td class="right padding-right-0" style="border-bottom: 0">
                {{ (data.member$ | async)?.totalReputation }} XP
              </td>
            </tr>
          </tbody>
        </nz-table>
      </div>
    </nz-card>

    <wen-timeline
      [items]="getTimelineItems(data.badges$ | async)"
      [isCollapsable]="false"
    ></wen-timeline>
  </div>
</div>
