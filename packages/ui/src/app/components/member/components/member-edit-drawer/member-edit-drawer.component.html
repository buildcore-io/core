<nz-drawer
  nzPlacement="right"
  [nzTitle]="titleTpl"
  [nzMask]="false"
  [nzVisible]="true"
  [nzWidth]="isDesktop ? 621 : '100vw'"
  (nzOnClose)="close()"
  [nzClosable]="true"
  [nzBodyStyle]="!isDesktop ? { overflow: 'auto', padding: '64px 24px 24px' } : {}"
>
  <ng-container *nzDrawerContent>
    <form class="-mt-16 space-y-12" nz-form nzLayout="vertical" [formGroup]="memberForm">
      <nz-form-item>
        <h4 nz-typography class="pt-4 mb-1" i18n>Display Name</h4>
        <span
          nz-typography
          class="mb-6 text-foregrounds-secondary dark:text-foregrounds-secondary-dark"
          i18n
          >Set a display name. This does not change your username.</span
        >
        <nz-form-control>
          <nz-input-group [nzPrefix]="prefixName" nzSize="large">
            <input
              nz-input
              i18n-placeholder
              placeholder="Display name (optional)"
              [formControl]="nameControl"
              class="bg-inputs-background dark:bg-inputs-background-dark"
            />
            <ng-template #prefixName>@</ng-template>
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <h4 nz-typography class="pt-4 mb-1" i18n>About</h4>
        <span
          nz-typography
          class="mb-6 whitespace-pre-line text-foregrounds-secondary dark:text-foregrounds-secondary-dark"
          i18n
          >A brief description of yourself shown on your profile.</span
        >
        <nz-form-control nzSize="large">
          <nz-textarea-count [nzMaxCharacterCount]="maxAboutCharacters">
            <textarea
              nz-input
              i18n-placeholder
              placeholder="Your description (optional)"
              rows="4"
              [formControl]="aboutControl"
            ></textarea>
          </nz-textarea-count>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <h4 nz-typography class="pt-4 mb-1" i18n>Avatar</h4>
        <span
          nz-typography
          class="mb-6 text-foregrounds-secondary dark:text-foregrounds-secondary-dark"
          i18n
          >Customise your Soonaverse identity.</span
        >
        <div
          class="flex p-4 space-x-4 bg-backgrounds-item-hover dark:bg-backgrounds-item-hover-dark text-foregrounds-primary dark:text-foregrounds-primary-dark"
          *ngIf="!currentProfileImageControl.value"
        >
          <nz-avatar
            class="border-2 border-foregrounds-tertiary dark:border-foregrounds-tertiary-dark min-w-max"
            [nzSize]="48"
            nzSrc="/assets/mocks/no_avatar.png"
          >
          </nz-avatar>
          <span i18n
            >Generate a free unique avatar for your profile picture. <br /><br />
            New super rare premium avatar species and avatar collectibles/accessories that can all
            be traded are coming SOON.
          </span>
          <button nz-button nzSize="small" nzType="primary" type="button" (click)="mint()">
            Generate Avatar
          </button>
        </div>
        <div
          class="flex p-4 space-x-4 bg-accent-selected dark:bg-accent-selected-dark text-foregrounds-primary dark:text-foregrounds-primary-dark"
          *ngIf="currentProfileImageControl.value"
        >
          <nz-avatar
            class="border-2 border-foregrounds-tertiary dark:border-foregrounds-tertiary-dark min-w-max"
            [nzSize]="48"
            [nzSrc]="currentProfileImageControl.value | resizeAvatar : filesizes.small"
          ></nz-avatar>
          <span i18n>WOW! Looks like yours is the prettiest avatar of all. Congratulations. </span>
        </div>
      </nz-form-item>

      <div class="space-y-4">
        <h4 nz-typography class="pt-4 mb-1" i18n>Networking</h4>
        <nz-form-item>
          <nz-form-control i18n-nzErrorTip nzErrorTip="Invalid Github username.">
            <nz-input-group [nzPrefix]="prefixGithub" nzSize="large">
              <input
                type="text"
                nz-input
                i18n-placeholder
                placeholder="Type your Github account username"
                class="bg-inputs-background dark:bg-inputs-background-dark"
                [formControl]="githubControl"
              />
              <ng-template #prefixGithub>
                <wen-icon-github></wen-icon-github>
              </ng-template>
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-control i18n-nzErrorTip nzErrorTip="Invalid Twitter username.">
            <nz-input-group [nzPrefix]="prefixTwitter" nzSize="large">
              <input
                type="text"
                nz-input
                i18n-placeholder
                placeholder="Type your Twitter account username"
                class="bg-inputs-background dark:bg-inputs-background-dark"
                [formControl]="twitterControl"
              />
              <ng-template #prefixTwitter>
                <wen-icon-twitter></wen-icon-twitter>
              </ng-template>
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-control i18n-nzErrorTip nzErrorTip="Only username#1234 format supported.">
            <nz-input-group [nzPrefix]="prefixDiscord" nzSize="large">
              <input
                type="text"
                nz-input
                i18n-placeholder
                placeholder="Type your Discord account username"
                class="bg-inputs-background dark:bg-inputs-background-dark"
                [formControl]="discordControl"
              />
              <ng-template #prefixDiscord>
                <wen-icon-discord></wen-icon-discord>
              </ng-template>
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </div>
    </form>
  </ng-container>
  <ng-template #titleTpl>
    <span i18n>Settings</span>
    <button class="float-right mr-8" nz-button nzType="primary" type="button" (click)="save()" i18n>
      Save changes
    </button>
  </ng-template>
</nz-drawer>
